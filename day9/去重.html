<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
     /* 
        数组去重：双for循环
        */
        // let ary = [23, 23, 23, 34, 23, 34, 23];

        // function unique(ary) {
        //     // 循环数组的每一项，把数组的每一项和他后面的值一一做比较，如果和数组的当前项相同了，证明这一项就是重复项，就把他在原数组里删除

        //     // 循环数组的每一项
        //     for (var i = 0; i < ary.length - 1; i++) {
        //         var cur = ary[i] // 23  i=0
        //         //此循环就是把当前项和他后面的每一项去做比较
        //         for (var j = 1 + i; j < ary.length; j++) {
        //             /* 
        //              j = 1   23
        //              j= 1    23
        //             */
        //             var next = ary[j];
        //             if (cur === next) {
        // 如果某一项和数组的当前项相同了，就把这一项在原数组里删除
        //                 ary.splice(j, 1);
        //                 j--; // 防止数组塌陷
        //             }
        //         }
        //     }
        //     return ary
        // }
        // // console.log(unique(ary)) // [23, 34]
        // console.log(ary) // [23, 34]
        // console.log(unique(ary) === ary) // true



        // ==================================================================
        // 利用对象的属性名不能重复的特点进行数组去重
        // let ary = [23, 23, 23, 34, 23, 34, 23];
        // function unique(ary){
        // 创建一个空对象，
        // 循环数组，把数组的每一项既当做属性名，又当做属性值作为键值对存储到对象中
        //     let obj = {};
        //     for (var i = 0; i < ary.length; i++) {
        //        var cur = ary[i];
        //        obj[cur] = cur; // 给对象增加键值对
        //     }
        //      // {23:23,34:34}console.log(obj)
        //     // 创建一个新数组，
        //     // 遍历对象，把对象的每一个属性值push到新数组中
        //     let newAry = [];
        //     for(var key in obj){
        //         // key // 每一个键值对的属性名
        //         newAry.push(obj[key])
        //     }

        //     // 最后得到的新数组就是去重之后的数组
        //     return newAry  
        // }
        // console.log(unique(ary)) // [23, 34]
        // console.log(ary) // [23, 23, 23, 34, 23, 34, 23]; 原数组不变


        // =============================================
        // 利用对象的属性名如果已经存在，那属性值就不是undefined的特点
        let ary = [23, 55, 23, 34, 23, 34, 23];

        function unique(ary) {
            // 创建一个空对象，
            // 循环数组，把数组的每一项既当做属性名，又当做属性值作为键值对存储到对象中,但是存储的时候得判断一下，这一项在对象中有没有，如果有就证明这一项在数组中是重复项
            let obj = {};
            for (var i = 0; i < ary.length; i++) {
                var cur = ary[i];
                if (obj[cur] !== undefined) {
                    // 如果此条件成立，那这一项在数组中就是重复项
                    // 把这一项在原数组中删除
                    // ary.splice(i, 1);
                    // i--; // 数组塌陷

                    ary[i] = ary[ary.length-1];
                    ary.length--;
                    i--;
                } else {
                    obj[ary[i]] = ary[i]
                    // obj [23] = 23
                }
            }
            return ary
        }
        console.log(unique(ary)) // [23, 34]
    
    </script>
</body>
</html>